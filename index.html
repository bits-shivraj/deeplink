<!DOCTYPE html>
<html lang="en">
<head>
    <title>Open My App</title>
    <script>
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, '\\$&');
            let regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');
            let results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }

        function openApp() {
            let dynamicData = getParameterByName('data'); // Get dynamic data from URL
            if (dynamicData) {
                window.location.href = "myapp://share/" + dynamicData;
            } else {
                window.location.href = "myapp://share/default"; // Default case
            }

            // Fallback: If the app is not installed, redirect to Play Store after 3 sec
            setTimeout(function() {
                window.location.href = "https://play.google.com/store/apps/details?id=com.shivraj.ipv6";
            }, 3000);
        }
    </script>
</head>
<body onload="openApp()">
    <h2>Opening My App...</h2>
    <p>If the app does not open, <a href="#" onclick="openApp()">click here</a>.</p>
</body>
</html>
